(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(41)},31:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n.n(o),a=n(21),s=n.n(a),i=(n(31),n(5)),c=n(4),l=n(7),u=n(6),d=n(8),p=n(25),m=n(23),h=n.n(m),f=(n(36),n(9)),w=n(17),g=n(24),v=n.n(g),y=(n(40),"dkhrbnBqUXhCMm9lOUlOdHI3akc3dzpjMzYxYWJiNDZjNjAyOTM4");function b(e,t,n,o){if(e.fullPano){var r=e.computedCA,a=[function(e,t){return function(e,t,n){for(var o=n-t;e>n||e<t;)e>n?e-=o:e<t&&(e+=o);return e}((e-t)/360+.5,0,1)}(v()(n,o),r),.6];t.setCenter(a)}}var j=function(e){var t="".concat(e[0][0][0],",").concat(e[0][0][1]);console.log(t);var n="https://a.mapillary.com/v3/images?client_id=".concat(y,"&closeto=").concat(t,"&usernames=juancatothe");return console.log(n),fetch(n).then(function(e){return e.json()})},O={ballColor:"white",ballOpacity:.5,color:"yellow",opacity:.55,interactive:!1,radius:2},k=function(e){var t=e.coords,n=Object(o.useState)(null),a=Object(f.a)(n,2),s=a[0],i=a[1];return Object(o.useEffect)(function(){console.log(t),j(t).then(function(e){t.lng=t[0][0][0],t.lat=t[0][0][1];var n=new w.Viewer("mly",y,null,{component:{cover:!1,marker:!0}});console.log(e),n.moveToKey(e.features[0].properties.key).then(function(o){b(o,n,e.features[0].geometry.coordinates,[t.lng,t.lat])}),i(n)})},[]),Object(o.useEffect)(function(){if(s){j(t).then(function(e){s.moveToKey(e.features[0].properties.key).then(function(n){b(n,s,e.features[0].geometry.coordinates,[t.lng,t.lat])})});var e=new w.MarkerComponent.SimpleMarker("default-id",{lat:t.lat,lon:t.lng},O);s.getComponent("marker").add([e])}},[t]),r.a.createElement("div",{id:"mly"})},A=function(e){function t(e){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"parcel-details"},r.a.createElement("p",null,"Street Address: ",this.props.streetAddress),r.a.createElement("p",null,"Owner: ",this.props.ownerName),r.a.createElement("p",null,"Owner Street: ",this.props.ownerAddress1),r.a.createElement("p",null,"Owner City: ",this.props.ownerAddress2),r.a.createElement("p",null,"Acres: ",this.props.acres),r.a.createElement("p",null,"Parcel ID: ",this.props.PIN),r.a.createElement("p",null,"Zoning: ",this.props.zoning),this.props.coords&&r.a.createElement(k,{coords:this.props.coords}))}}]),t}(r.a.Component),C=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e)))._onViewportChange=function(e){return n.setState({viewport:e})},n._onClick=function(e){if(console.log(e),e.features.length>0){h()(e.features[0]).geometry.coordinates;n.setState({acres:e.features[0].properties.Acres,ownerName:e.features[0].properties.send_to_na,ownerAddress1:e.features[0].properties.ownerstree,ownerAddress2:e.features[0].properties.ownerCityS,PIN:e.features[0].properties.PIN,streetAddress:e.features[0].properties.Address,zoning:e.features[0].properties.Zoning,coords:e.features[0].geometry.coordinates})}},n.state={viewport:{latitude:43.336339,longitude:-83.36,zoom:14,bearing:0,pitch:0,width:window.innerWidth,height:window.innerHeight},settings:{dragPan:!0,scrollZoom:!0,touchZoom:!0,touchRotate:!0,keyboard:!0,doubleClickZoom:!0,minZoom:11,maxZoom:19,minPitch:0,maxPitch:0},mapStyle:"mapbox://styles/juancatothe/cjzxknl0j1u0x1cov0b2jw8mr",acres:null,ownerName:null,ownerAddress1:null,ownerAddress2:null,PIN:null,coords:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.viewport,n=e.settings,o=e.mapStyle;return r.a.createElement("div",null,r.a.createElement(p.a,Object.assign({},t,n,{mapStyle:o,onViewportChange:this._onViewportChange,onClick:this._onClick,mapboxApiAccessToken:"pk.eyJ1IjoianVhbmNhdG90aGUiLCJhIjoiY2p1MW9lYzdrMDN1MTN5cGVyYXVhMGw3NSJ9.8m02a0ot4-sQBBz7OfU0ng"})),r.a.createElement(A,{streetAddress:this.state.streetAddress,acres:this.state.acres,ownerName:this.state.ownerName,ownerAddress1:this.state.ownerAddress1,ownerAddress2:this.state.ownerAddress2,PIN:this.state.PIN,zoning:this.state.zoning,coords:this.state.coords}))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.4a00174e.chunk.js.map